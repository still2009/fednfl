# ğŸ›¡ï¸ Codebase for Privacy-Preserving Federated Learning (FedNFL)

This repository contains the code for our paper:

**â€œTheoretically Principled Federated Learning for Balancing Privacy and Utilityâ€**  
[arXiv:2305.15148](https://arxiv.org/abs/2305.15148)

---

## ğŸ“ Project Structure

```
â”œâ”€â”€ README.md              # Project documentation
â”œâ”€â”€ basic/                 # Common utility functions
â”œâ”€â”€ data/                  # Dataset files
â”œâ”€â”€ attack/                # Diverse DLG attack implementations
â”œâ”€â”€ inversefed/            # Attack methods cloned from the InverseFed repo
â”œâ”€â”€ fl/                    # FL simulation core
â”‚   â”œâ”€â”€ client.py          # Federated client logic
â”‚   â””â”€â”€ server.py          # Federated server logic
â”œâ”€â”€ demo.yaml              # Example config file with all configurable options
â”œâ”€â”€ experiments.py         # Main entry for launching experiments
â”œâ”€â”€ main.py                # Internal single-experiment runner (used by experiments.py)
â””â”€â”€ result_ana.py          # Utilities for automatic result analysis
```

---

## ğŸš€ Getting Started

The main entry point is `experiments.py`. It supports:
- Handcrafted YAML config files (for flexible single/multi-experiment setup)
- Python-based config functions (for batch or automated tuning)

### ğŸ”§ Example Usages

**Run a single experiment from YAML config:**
```bash
python experiments.py --config debug.yaml --gpu 0 --nproc 1
```

**Run multiple experiments from a group config file:**
```bash
python experiments.py --resubmit --config grp_x.yaml --gpu 0,1,2,3 --nproc 10
```

**Use Customized Python config logic (recommended for batch runs):**
```bash
# Debug mode, the config fuction is raw_dp() in experiments.py
python experiments.py --config raw_dp --gpu 0,1,2,3 --nproc 10 --debug

# Full run
python experiments.py --config raw_dp --gpu 0,1,2,3 --nproc 10
```

*notice: paths and directoies with the code should be manualy changed to ur own*
---

## ğŸ”— Citation

If you find this repo useful for your research or development, please cite our paper:

```
@article{zhang2023theoretically,
  title={Theoretically principled federated learning for balancing privacy and utility},
  author={Zhang, Xiaojin and Li, Wenjie and Chen, Kai and Xia, Shutao and Yang, Qiang},
  journal={arXiv preprint arXiv:2305.15148},
  year={2023}
}
```